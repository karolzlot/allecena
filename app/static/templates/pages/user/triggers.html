<uib-tabset>
    <uib-tab heading="{{'user.triggers.tabs.list' | translate}}">
        <h3 class="lead">{{'user.triggers.tabs.list' | translate}}</h3>

        <div class="user-triggers">
            <table class="table table-striped table-hover" >
                <thead class="thead-inverse">
                <tr>
                    <th>{{'user.triggers.headers.id'            | translate}}</th>
                    <th>{{'user.triggers.headers.name'          | translate}}</th>
                    <th>{{'user.triggers.headers.sources'       | translate}}</th>
                    <th>{{'user.triggers.headers.mode'          | translate}}</th>
                    <th>{{'user.triggers.headers.modeValue'     | translate}}</th>
                    <th>{{'user.triggers.headers.finished'      | translate}}</th>
                    <th>{{'user.triggers.headers.date_created'  | translate}}</th>
                    <th>{{'user.triggers.headers.date_finished' | translate}}</th>
                    <th>{{'user.triggers.headers.actions'       | translate}}</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="trigger in triggers">
                    <td>{{trigger.id}}</td>
                    <td>{{trigger.name}}</td>
                    <td>{{trigger.provider}}</td>
                    <td>{{trigger.mode }}</td>
                    <td>{{trigger.mode_value}}</td>
                    <td>{{trigger.finished ? ('enumerations.yesNo.yes' | translate) : ('enumerations.yesNo.no' | translate)}}</td>
                    <td>{{trigger.date_created.toLocaleString()}}</td>
                    <td>{{trigger.date_finished.toLocaleString()}}</td>
                    <td>
                        <a><i uib-tooltip="{{'user.triggers.table.preview' | translate}}" class="fa fa-search fa-fw" ng-click="showDetails(trigger.id)"></i></a>
                        <a><i uib-tooltip="{{'user.triggers.table.delete' | translate}}" class="fa fa-remove fa-fw" ng-click="delete(trigger.id)"></i></a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </uib-tab>
    <uib-tab heading="{{'user.triggers.tabs.add' | translate}}">
        <h3 class="lead">{{'user.triggers.tabs.add' | translate}}</h3>

        <div class="user-triggers">
            <form name="addTriggerForm" class="center-block">
                <div class="row">
                    <div class="col-xs-12 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3">
                        <h4 class="text-center text-bold">{{'user.triggers.form.linkHeader' | translate}}</h4>
                        <h5 class="text-center">{{'user.triggers.form.linkDescription' | translate}}</h5>
                        
                        <div class="form-group" ng-class="{'has-error': addTriggerForm.auctionLink.$invalid && (addTriggerForm.auctionLink.$dirty || submitted)}">
                            <input type="text" name="auctionLink" id="auctionLink" class="form-control" placeholder="{{'user.triggers.form.linkExample' | translate}}" ng-model="data.auctionLink" required />
                        </div>
                        
                        <div class="alert alert-danger" ng-show="addTriggerForm.auctionLink.$invalid && (addTriggerForm.auctionLink.$dirty || submitted)">
                            <ul>
                                <li ng-show="addTriggerForm.auctionLink.$error.required">{{'errors.required' | translate}}</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="row next-step-row">
                    <i class="next-step-icon"><i></i></i>
                </div>
                
                <div class="row">
                    <div class="col-xs-12 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3">
                        <h4 class="text-center text-bold">{{'user.triggers.form.modeHeader' | translate}}</h4>
                        <h5 class="text-center">{{'user.triggers.form.modeDescription' | translate}}</h5>
                        
                        <div class="radio">
                            <label class="radio">
                                <input type="radio" name="mode" ng-model="data.mode" data-ng-value="'price'">
                                <span>{{'user.triggers.mode.price' | translate}}</span>
                            </label>
                        </div>
                        <div class="radio">
                            <label class="radio">
                                <input type="radio" name="mode" ng-model="data.mode" data-ng-value="'views'">
                                <span>{{'user.triggers.mode.views' | translate}}</span>
                            </label>
                        </div>
                        <div class="radio">
                            <label class="radio">
                                <input type="radio" name="mode" ng-model="data.mode" data-ng-value="'quantity'">
                                <span>{{'user.triggers.mode.quantity' | translate}}</span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="row next-step-row">
                    <i class="next-step-icon"><i></i></i>
                </div>
                
                <div class="row">
                    <div class="col-xs-12 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3">
                        <h4 class="text-center text-bold">{{'user.triggers.form.modeValueHeader' | translate}}</h4>
                        <h5 class="text-center">{{'user.triggers.form.modeValueDescription' | translate}}</h5>
                        
                        <div class="form-group" ng-class="{'has-error': addTriggerForm.modeValue.$invalid && (addTriggerForm.modeValue.$dirty || submitted)}">
                            <input type="text" name="modeValue" id="modeValue" class="form-control" placeholder="{{'user.triggers.form.modeValueExample' | translate}}" ng-model="data.modeValue" required />
                        </div>
                        
                        <div class="alert alert-danger" ng-show="addTriggerForm.modeValue.$invalid && (addTriggerForm.modeValue.$dirty || submitted)">
                            <ul>
                                <li ng-show="addTriggerForm.modeValue.$error.required">{{'errors.required' | translate}}</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="row next-step-row">
                    <i class="next-step-icon"><i></i></i>
                </div>
                
                <div class="row">
                    <div class="col-xs-12 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3">
                        <h4 class="text-center text-bold">{{'user.triggers.form.timeHeader' | translate}}</h4>
                        <h5 class="text-center">{{'user.triggers.form.timeDescription' | translate}}</h5>
                        
                        <div class="radio">
                            <label class="radio">
                                <input type="radio" name="time" ng-model="data.time" data-ng-value="'lazy'">
                                <span>{{'user.triggers.time.lazy' | translate}}</span>
                            </label>
                        </div>
                        <div class="radio">
                            <label class="radio">
                                <input type="radio" name="time" ng-model="data.time" data-ng-value="'moderate'">
                                <span>{{'user.triggers.time.moderate' | translate}}</span>
                            </label>
                        </div>
                        <div class="radio">
                            <label class="radio">
                                <input type="radio" name="time" ng-model="data.time" data-ng-value="'turbo'">
                                <span>{{'user.triggers.time.turbo' | translate}}</span>
                            </label>
                        </div>
                        <div class="radio">
                            <label class="radio">
                                <input type="radio" name="analysis" ng-model="data.time" data-ng-value="'ultra_turbo'">
                                <span>{{'user.triggers.time.ultra_turbo' | translate}}</span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="row next-step-row">
                    <i class="next-step-icon"><i></i></i>
                </div>
                    
                <div class="row">
                    <div class="col-xs-6 col-xs-offset-3 col-md-4 col-md-offset-4">
                        <button type="submit" class="btn btn-warning btn-lg" style="width: 100%;" ng-click="send(addTriggerForm)">
                            {{'user.triggers.add' | translate}}
                        </button>
                    </div>
                </div>
            </form>
            
            <br/><br/>
        </div>
    </div>
</div>
